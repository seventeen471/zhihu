webpackJsonp([1],[,,,function(t,e,i){"use strict";var n=i(35),s=i.n(n),o=i(60);e.a={getNews:function(){return s.a.get(o.a)},getNewsById:function(t){return s.a.get(o.b+t)},getNewsByDate:function(t){return s.a.get(o.c+t)},getNewsInfoById:function(t){return s.a.get(o.d,{params:{id:t}})},getTopics:function(){return s.a.get(o.e)},getTopicsById:function(t){return s.a.get(o.f+t)},getSections:function(){return s.a.get(o.g)},getSectionsById:function(t){return s.a.get(o.h,{params:{sectionid:t}})}}},,,,,,,,,,,,,,,function(t,e,i){"use strict";e.a={props:{scroller:{type:[HTMLDocument,Element,Window],default:window}},mounted:function(){this.$bindScroll()},methods:{$bindScroll:function(){var t=this;this.scroller&&(this._handleScroll=function(e){t.onScroll&&t.onScroll()},this.scroller.addEventListener("scroll",this._handleScroll))},$unbindScroll:function(t){t=t||this.scroller,this._handleScroll&&t.removeEventListener("scroll",this._handleScroll)}},beforeDestroy:function(){this.$unbindScroll()},watch:{scroller:function(t,e){t!==e&&(this.$unbindScroll(e),this.$bindScroll(t))}}}},,,,,,,,function(t,e,i){"use strict";var n=i(5),s=i(12),o=i(100),r=i.n(o),a=i(99),c=i.n(a),l=i(101),u=i.n(l);n.default.use(s.a);var d=new s.a({mode:"hash",routes:[{path:"/",component:r.a,name:"home"},{path:"/article",component:c.a,name:"article"},{path:"/theme",component:u.a,name:"theme"},{path:"*",redirect:"/"}]});e.a=d},function(t,e){},function(t,e){},,function(t,e,i){i(92);var n=i(1)(i(53),i(105),null,null);t.exports=n.exports},function(t,e,i){var n=i(1)(i(54),i(103),null,null);t.exports=n.exports},function(t,e,i){i(90);var n=i(1)(i(55),i(102),null,null);t.exports=n.exports},function(t,e){!function(t,e){function i(){var e=o.getBoundingClientRect().width;e/c>540&&(e=540*c);var i=e/10;o.style.fontSize=i+"px",u.rem=t.rem=i}var n,s=t.document,o=s.documentElement,r=s.querySelector('meta[name="viewport"]'),a=s.querySelector('meta[name="flexible"]'),c=0,l=0,u=e.flexible||(e.flexible={});if(r){var d=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(l=parseFloat(d[1]),c=parseInt(1/l))}else if(a){var f=a.getAttribute("content");if(f){var p=f.match(/initial\-dpr=([\d\.]+)/),h=f.match(/maximum\-dpr=([\d\.]+)/);p&&(c=parseFloat(p[1]),l=parseFloat((1/c).toFixed(2))),h&&(c=parseFloat(h[1]),l=parseFloat((1/c).toFixed(2)))}}if(!c&&!l){var m=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),v=t.devicePixelRatio;c=m?v>=3&&(!c||c>=3)?3:v>=2&&(!c||c>=2)?2:1:1,l=1/c}if(o.setAttribute("data-dpr",c),!r)if(r=s.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(r);else{var g=s.createElement("div");g.appendChild(r),s.write(g.innerHTML)}t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(i,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(i,300))},!1),"complete"===s.readyState?s.body.style.fontSize=12*c+"px":s.addEventListener("DOMContentLoaded",function(t){s.body.style.fontSize=12*c+"px"},!1),i(),u.dpr=t.dpr=c,u.refreshRem=i,u.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},u.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),s=i(3);e.default={computed:i.i(n.b)({circle:function(t){return t.circleFlag},num:function(t){return t.num},flag:function(t){return t.drawer}}),mounted:function(){var t=this;s.a.getTopics().then(function(e){t.list=e.data.others})},data:function(){return{list:[],timer:"",open:!1,docked:!1,transitionName:"slide-left",myMsg:"",show:0}},watch:{$route:function(t,e){var i=this;this.timer=setTimeout(function(){i.open&&(i.open=!1,i.docked=!1),clearTimeout(i.timer)},300),"/"==t.path&&1!=this.num&&this.$store.commit("add",1),this.transitionName="/article"!=t.path?"slide-right":"slide-left"}},methods:{back:function(t){t?this.$router.push({path:"home"}):window.history.back()},toggle:function(){if(this.open){this.open=!1;var t=this;setTimeout(function(){t.docked=!1},300)}else this.docked=!0,this.open=!0},change:function(t){var e=1==t?"home":"theme";this.$router.push({path:e,query:{id:t||""}}),this.$store.commit("add",t)},prevent:function(t){t.preventDefault(),t.stopPropagation()},showMsg:function(){0==this.show?this.myMsg="<h3>作者：SQY<br>手机：13776625890<br>邮箱：1772065618@qq.com</h3>":this.myMsg="",this.show=!this.show},top:function(){var t=this,e=document.querySelector(".app-view"),i=e.scrollTop,n=parseInt(i/50),s=setInterval(function(){i-=n,i<=0?(e.scrollTop=0,t.$store.commit("toggle"),clearInterval(s)):e.scrollTop=i},1)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18);e.default={name:"back-scroll",mixins:[n.a],props:{flag:{type:Boolean,default:!1}},methods:{onScroll:function(){var t=this.scroller,e=t===window,i=Math.ceil(window.screen.height/2);(e?t.scrollY:t.scrollTop)>i?!this.flag&&this.$store.commit("toggle",1):this.flag&&this.$store.commit("toggle")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18);e.default={name:"infinite-scroll",mixins:[n.a],props:{loading:{type:Boolean,default:!1},loadingText:{type:String,default:"正在加载..."}},methods:{onScroll:function(){if(!this.loading){var t=this.scroller,e=t===window,i=e?t.scrollY:t.scrollTop;(e?document.documentElement.scrollHeight||document.body.scrollHeight:t.scrollHeight)-i-5<=(e?window.innerHeight:t.offsetHeight)&&this.$emit("load")}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),s=i(2);e.default={computed:i.i(s.b)({circle:function(t){return t.circleFlag},article:function(t){return t.article}}),mounted:function(){this.scroller=this.$el},activated:function(){var t=this,e=this.$route.query.id;this.article.hasOwnProperty(e)?this.data=this.article[e]:n.a.getNewsById(e).then(function(i){t.article[e]=i.data,t.data=i.data})},deactivated:function(){this.data=""},data:function(){return{data:"",scroller:window}},methods:{pop:function(t){var e=t.target.href;e&&window.open(e)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),s=i.n(n),o=i(3),r=i(2);e.default={computed:s()({},i.i(r.b)({circle:function(t){return t.circleFlag}})),mounted:function(){this.getList(1),this.scroller=this.$el;var t=this.$refs.swiper;t.dom&&(this.swiper=t.dom)},activated:function(){this.swiper&&this.swiper.startAutoplay()},deactivated:function(){this.loop=!1,this.swiper&&this.swiper.stopAutoplay()},data:function(){return{refreshing:!1,trigger:null,loading:!1,count:1,scroller:null,list:[],swiper:"",tops:[]}},methods:{go:function(t){this.$router.push({path:"article",query:{id:t}})},getList:function(t){var e=this;t?o.a.getNews().then(function(t){e.tops=t.data.top_stories,e.list.push(t.data),e.loading=!1}):o.a.getNewsByDate(e.GetDate(e.count)).then(function(t){e.list.push(t.data),e.loading=!1})},loadMore:function(){var t=this;this.loading=!0,setTimeout(function(){t.count--,t.getList()},500)},GetDate:function(t){var e=new Date;e.setDate(e.getDate()+t);var i=e.getFullYear(),n=e.getMonth()+1;n=n>=10?n:"0"+n;var s=e.getDate();return s=s>=10?s:"0"+s,i+""+n+s}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),s=i.n(n),o=i(2),r=i(3);e.default={computed:s()({},i.i(o.b)({flag:function(t){return t.num},circle:function(t){return t.circleFlag},theme:function(t){return t.theme}})),mounted:function(){this.scroller=this.$el,this.$store.commit("add",this.$route.query.id)},data:function(){return{list:"",scroller:window}},watch:{flag:function(){this.getList()}},methods:{go:function(t){this.$router.push({path:"article",query:{id:t}})},getList:function(){var t=this,e=this.$route.query.id;this.list="",document.querySelector(".app-view").scrollTop=0,this.theme.hasOwnProperty(e)?this.list=this.theme[e]:r.a.getTopicsById(e).then(function(i){t.theme[e]=i.data,t.list=i.data})}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n={site:"zhihu-agent.herokuapp.com",method:"/get?api="},s="https://".concat(n.site,n.method)},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return c}),i.d(e,"e",function(){return l}),i.d(e,"f",function(){return u}),i.d(e,"g",function(){return d}),i.d(e,"h",function(){return f});var n=i(59),s={startimage:"/4/start-image/1080*1776",news:"/4/news/latest",newsbyid:"/4/news/",newsbydate:"/4/news/before/",newsinfo:"/4/story-extra",topics:"/4/themes",topicbyid:"/4/theme/",sections:"/3/sections",sectionbyid:"/3/section"},o=n.a.concat(s.news),r=n.a.concat(s.newsbyid),a=n.a.concat(s.newsbydate),c=n.a.concat(s.newsinfo),l=n.a.concat(s.topics),u=n.a.concat(s.topicbyid),d=n.a.concat(s.sections),f=n.a.concat(s.sectionbyid)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),s=i(2),o=i(12),r=i(30),a=i.n(r),c=i(26),l=i(31),u=i.n(l),d=i(32),f=i.n(d),p=i(33),h=(i.n(p),i(28)),m=(i.n(h),i(29)),v=i.n(m),g=i(27);i.n(g);n.default.use(v.a),n.default.use(s.a),n.default.use(o.a),n.default.component(u.a.name,u.a),n.default.component(f.a.name,f.a);var _=new s.a.Store({state:{num:1,drawer:!1,circleFlag:!1,theme:{},article:{},before:""},mutations:{add:function(t,e){return t.num=e},back:function(t,e){t.drawer=!e},toggle:function(t,e){t.circleFlag=!!e}}});new n.default({el:"#app",router:c.a,store:_,render:function(t){return t(a.a)}});var w=0,b=document.querySelector(".app-view");c.a.beforeEach(function(t,e,i){"/article"==t.path?(b=document.querySelector(".app-view"),w=b.scrollTop,_.commit("back")):_.commit("back",1),_.commit("toggle"),i()}),c.a.afterEach(function(t,e,i){"/article"==t.path?b.scrollTop=0:n.default.nextTick(function(){"/theme"==t.path&&_.commit("add",location.href.split("=")[1]),b.scrollTop=w})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,function(t,e,i){i(91);var n=i(1)(i(56),i(104),null,null);t.exports=n.exports},function(t,e,i){i(93);var n=i(1)(i(57),i(106),null,null);t.exports=n.exports},function(t,e,i){i(94);var n=i(1)(i(58),i(107),"data-v-ed7f6f12",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"infinite-scroll"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loader"},[i("svg",{staticClass:"loader-circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"loader-path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"10"}})])]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"infinite-scroll-text"},[t._v(t._s(t.loadingText))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"con"},[t.data.body?t._e():i("div",{staticClass:"loading"},[i("span",{staticClass:"left"}),t._v(" "),i("span",{staticClass:"middle"}),t._v(" "),i("span",{staticClass:"right"})]),t._v(" "),t.data.image?i("div",{staticClass:"con-img"},[i("img",{attrs:{src:t.data.image}}),t._v(" "),i("div",{staticClass:"con-img-mask"}),t._v(" "),i("h2",[t._v(t._s(t.data.title))])]):t._e(),t._v(" "),i("div",{staticClass:"con-answer",domProps:{innerHTML:t._s(t.data.body)},on:{click:function(e){return e.preventDefault(),t.pop(e)}}}),t._v(" "),i("back-scroll",{attrs:{scroller:t.scroller,flag:t.circle}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("header",{staticClass:"header"},[t.flag?t._e():i("i",{staticClass:"iconfont icon-ic_menu",on:{click:function(e){return t.toggle(!0)}}}),t._v(" "),t.flag?i("i",{staticClass:"iconfont icon-ic_back",on:{click:function(e){return t.back()}}}):t._e()]),t._v(" "),i("aside",{staticClass:"aside",class:{open:t.open,docked:t.docked},on:{click:function(e){return t.toggle()}}},[i("ul",[i("li",{class:{chose:1==t.num},on:{click:function(e){return t.change(1)}}},[i("span",[t._v("首页")]),t._v(" "),i("i",{staticClass:"iconfont",class:{"iconcolor icon-ic_star_black":1==t.num,"icon-ic_star":1!=t.num}})]),t._v(" "),t._l(t.list,function(e,n){return i("li",{class:{chose:t.num==e.id},on:{click:function(i){return t.change(e.id)}}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"iconfont ",class:{"iconcolor icon-ic_star_black":t.num==e.id,"icon-ic_star":t.num!=e.id}})])}),t._v(" "),i("li",{on:{click:function(e){return t.showMsg()}}},[i("span",[t._v("关于")]),t._v(" "),i("i",{staticClass:"iconfont icon-ic_star"})]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.myMsg)}})],2),t._v(" "),i("div",{staticClass:"cover",on:{touchmove:t.prevent}})]),t._v(" "),t.circle?i("div",{staticClass:"circle",on:{click:function(e){return t.top()}}},[i("i",{staticClass:"iconfont icon-ic_top"})]):t._e(),t._v(" "),i("transition",{attrs:{name:t.transitionName}},[i("keep-alive",[i("router-view",{staticClass:"app-view",class:{"app-view-hidden":t.docked}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("m-swipe",{ref:"swiper",attrs:{swipeid:"swipe",autoplay:3e3,effect:"slide"}},t._l(t.tops,function(e){return i("div",{staticClass:"swiper-slide",attrs:{slot:"swiper-con"},on:{click:function(i){return t.go(e.id)}},slot:"swiper-con"},[i("img",{attrs:{src:e.image}}),t._v(" "),i("div"),t._v(" "),i("h3",[t._v(t._s(e.title))])])}),0),t._v(" "),t._l(t.list,function(e){return i("div",{staticClass:"list"},[i("p",{staticClass:"list-time"},[t._v(t._s(e.date.substring(0,4)+"/"+e.date.substring(4,6)+"/"+e.date.substring(6,8)))]),t._v(" "),t._l(e.stories,function(e){return i("div",{staticClass:"list-con",attrs:{link:""},on:{click:function(i){return t.go(e.id)}}},[i("img",{attrs:{src:e.images[0]}}),t._v(" "),i("p",[t._v(t._s(e.title))])])})],2)}),t._v(" "),t.list.length||t.refreshing?t._e():i("div",{staticClass:"loading"},[i("span",{staticClass:"left"}),t._v(" "),i("span",{staticClass:"middle"}),t._v(" "),i("span",{staticClass:"right"})]),t._v(" "),i("infinite-scroll",{attrs:{scroller:t.scroller,loading:t.loading},on:{load:t.loadMore}}),t._v(" "),i("back-scroll",{attrs:{scroller:t.scroller,flag:t.circle}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.list?i("div",[i("div",{staticClass:"theme"},[i("img",{attrs:{src:t.list.image}}),t._v(" "),i("div"),t._v(" "),i("h3",[i("p",[t._v(t._s(t.list.description))]),t._v(" "),i("p",[t._v(t._s(t.list.name))])])]),t._v(" "),i("div",{staticClass:"list"},t._l(t.list.stories,function(e){return i("div",{staticClass:"list-con",attrs:{link:""},on:{click:function(i){return t.go(e.id)}}},[e.images?i("img",{attrs:{src:e.images[0]}}):t._e(),t._v(" "),i("p",[t._v(t._s(e.title))])])}),0)]):i("div",{staticClass:"loading"},[i("span",{staticClass:"left"}),t._v(" "),i("span",{staticClass:"middle"}),t._v(" "),i("span",{staticClass:"right"})]),t._v(" "),i("back-scroll",{attrs:{scroller:t.scroller,flag:t.circle}})],1)},staticRenderFns:[]}}],[61]);
//# sourceMappingURL=app.b9c2f81b831d441e5bc7.js.map